<!DOCTYPE html>

<html>
  <header>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      /*
      .container {
        display: grid;
        grid-template-areas: "search box1 box2 output";
        grid-template-columns: 10vw 15vw 15vw 60vw;
        gap: 5px;
        background-color: #2196f3;
        padding: 5px;
      }

      */
      td a {
        display: block; /* makes the link act like a block */
        width: 100%; /* span the whole column width */
        text-align: left; /* or center/right if you prefer */
        overflow-wrap: break-word; /* keeps long URLs from breaking layout */
      }
      .container {
        display: grid;
        grid-template-areas: "search output output output";
        grid-template-columns: 10vw 15vw 15vw 60vw;
        gap: 5px;
        background-color: #ffffff;
        padding: 5px;
      }

      .container > div {
        background-color: rgba(255, 255, 255, 0.8);
        padding: 5px;
      }

      .container > div.search {
        grid-area: search;
      }

      .container > div.output {
        grid-area: output;
      }

      .container > div.box1 {
        grid-area: box1;
        background-color: #f1f1f1;
        padding: 5px;
        overflow-y: auto;
        /* Enable vertical scrolling */
        overflow-x: hidden;
        /* Optional: hide horizontal scroll */
        max-height: 80vh;
        /* Max 80% of viewport height */
        overflow-y: auto;
      }

      .container > div.box2 {
        grid-area: box2;
        background-color: #f1f1f1;
        padding: 5px;
        overflow-y: auto;
        /* Enable vertical scrolling */
        overflow-x: hidden;
        /* Optional: hide horizontal scroll */
        max-height: 80vh;
        /* Max 80% of viewport height */
        overflow-y: auto;
      }
      table {
        width: 95%;
        border-collapse: collapse; /* 🔑 collapse adjacent borders */
        font-family: Calibri, sans-serif;
        color: black;
        table-layout: fixed;
        overflow-x: auto;
      }

      th,
      td {
        border: 1px solid #ccc; /* ✅ one uniform border */
        padding: 6px;
        font-size: 14px;
        text-align: left;
        vertical-align: top;
      }

      th {
        background-color: #0056b3;
        color: #f1f1f1;
        font-size: 16px;
        font-weight: bold;
      }
      h3 {
        font-family: Calibri;
        font-size: 16pt;
        padding: 0px;
        font-weight: bold;
        margin-bottom: 2px;
        margin-top: 3px;
      }

      #search {
        font-family: Calibri;
        font-size: 24pt;
        padding: 0px;
        font-weight: bold;
        margin-bottom: 2px;
        margin-top: 3px;
      }

      label {
        font-family: Calibri;
        font-size: 13pt;
        padding: 0px;
        font-weight: normal;
        margin-bottom: 2px;
        margin-top: 3px;
      }

      input[type="radio"] {
        accent-color: #0033a0;
      }
      .box1,
      .box2 {
        display: none;
      }
      button {
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        margin-right: 8px; /* space between buttons */
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        color: #fff;
      }

      /* Apply button – solid blue */
      #button1 {
        background-color: #007bff;
      }
      #button1:hover {
        background-color: #0056b3;
      }

      /* Reset button – red for caution */
      #button2 {
        background-color: #dc3545;
      }
      #button2:hover {
        background-color: #a71d2a;
      }

      /* Generate PDF button – green for action/confirmation */
      #generate-pdf-btn {
        background-color: #28a745;
        margin-top: 6px;
        width: 150px;
      }
      #generate-pdf-btn:hover {
        background-color: #1e7e34;
      }

      #view-all {
        background-color: black;
        margin-top: 6px;
        width: 150px;
      }

      #view-all:hover {
        background-color: darkgrey;
      }
      #searchLine {
        font-size: 36;
      }

      .pagination {
        display: flex;
        gap: 8px;
        align-items: center;
        margin-top: 10px;
        flex-wrap: wrap;
      }
      .pagination button {
        padding: 6px 10px;
        border: 1px solid #ccc;
        background: #f7f7f7;
        color: #000;
        cursor: pointer;
        border-radius: 4px;
        font-weight: 600;
      }
      .pagination button[disabled] {
        opacity: 0.5;
        cursor: not-allowed;
      }
      .pagination .page-info {
        font-family: Calibri, sans-serif;
      }
    </style>
  </header>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
      integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body>
    <script src="sorttable.js"></script>
    <form id="woodProducts">
      <span
        ><label for="search" id="searchLine">Search:</label>
        <input type="text" id="search" style="width: 95vw" /> <br
      /></span>
      <div class="container">
        <div class="search">
          <h3>SEARCH BY</h3>
          <div>
            <input
              type="radio"
              id="searchNone"
              name="search"
              value="None"
              checked="checked"
            />
            <label for="searchNone">None</label><br />
          </div>
          <div>
            <input
              type="radio"
              id="searchCompany"
              name="search"
              value="Company_Name"
            />
            <label for="searchCompany">Company</label><br />
          </div>
          <div>
            <input
              type="radio"
              id="searchCounty"
              name="search"
              value="County"
            />
            <label for="searchCounty">County</label><br />
          </div>
          <div>
            <input type="radio" id="searchCity" name="search" value="City" />
            <label for="searchCity">City</label><br />
          </div>
          <div>
            <input
              type="radio"
              id="searchProducts"
              name="search"
              value="Products_Produced"
            />
            <label for="searchProducts">Products</label><br />
          </div>
          <h3 style="margin-top: 10px">FILTER BY</h3>
          <div>
            <input
              type="radio"
              id="filterNone"
              name="filter"
              value="None"
              checked="checked"
            />
            <label for="filterNone">None</label><br />
          </div>
          <div>
            <input
              type="radio"
              id="filterCounty"
              name="filter"
              value="County"
            />
            <label for="filterCounty">County</label><br />
          </div>
          <div>
            <input
              type="radio"
              id="filterProducts"
              name="filter"
              value="Products_Produced"
            />
            <label for="filterProducts">Products</label>
          </div>
          <div>
            <input
              type="radio"
              id="filterEmployees"
              name="filter"
              value="Number_Of_Employees"
            />
            <label for="filterEmployees">Employees</label>
          </div>
          <div>
            <input
              type="radio"
              id="filterMethods"
              name="filter"
              value="Methods_Bought"
            />
            <label for="filterMethods">Methods</label>
          </div>
          <h3 style="margin-top: 10px">CATEGORY</h3>
          <div>
            <input
              type="radio"
              id="categoryNone"
              name="category"
              value="None"
              checked="checked"
            />
            <label for="categoryNone">None</label>
          </div>
          <div>
            <input
              type="radio"
              id="categorySpecies"
              name="category"
              value="Species_Produced"
            />
            <label for="categorySpecies">Species</label>
          </div>
          <div>
            <input
              type="radio"
              id="categoryProducts"
              name="category"
              value="Products_Produced"
            />
            <label for="categoryProducts">Products</label>
          </div>
          <div>
            <input
              type="radio"
              id="categoryEmployees"
              name="category"
              value="Number_Of_Employees"
            />
            <label for="categoryEmployees">Employees</label>
          </div>
          <div>
            <input
              type="radio"
              id="categorySells"
              name="category"
              value="Sells_To_Public"
            />
            <label for="categorySells">Sells to Public</label>
          </div>
          <div>
            <input
              type="radio"
              id="categoryMethods"
              name="category"
              value="Methods_Bought"
            />
            <label for="categoryMethods">Methods</label>
          </div>
          <br />
          <div>
            <button type="button" id="button1">Apply</button
            ><button type="button" id="button2">Reset</button>
          </div>
          <button type="button" id="view-all">View All</button>
          <button type="button" id="generate-pdf-btn">Generate PDF</button>
        </div>
        <div class="box1" id="createFilter"></div>
        <div class="box2" id="createCategory"></div>
        <div class="output"></div>
      </div>
    </form>

    <!-- injected pagination module (non-destructive) -->
    <script>
      (function () {
        const ENDPOINT = "https://woodproducts.ukfnrext.org/fetchData.php";

        // Public state (scoped to this IIFE)
        const PAGE_SIZE = 50;
        let vaCurrentPage = 1;
        let vaTotalRows = 0;
        let vaTotalPages = 1;
        let initialized = false;

        function ensureOutput() {
          const out = document.querySelector(".output");
          if (!out) {
            console.warn("[pager] .output container not found");
            return null;
          }
          return out;
        }

        function buildCompaniesTable(rows) {
          let html = `
      <div id="capture-section">
        <table class="sortable">
          <thead>
            <tr>
              <th>Company Name</th>
              <th>Mailing Address</th>
              <th>County</th>
              <th>Employees</th>
              <th>Classes</th>
              <th>Species</th>
              <th>Products</th>
              <th>Methods</th>
              <th>Website</th>
            </tr>
          </thead>
          <tbody>
    `;
          const offset = (vaCurrentPage - 1) * PAGE_SIZE;
          rows.forEach((row, i) => {
            const n = offset + i + 1;
            const addr = `${row.Physical_Address || ""}, ${
              row.City || ""
            }, KY ${row.Zip || ""}`;
            html += `
        <tr>
          <td>${row.Company_Name || ""}</td>
          <td>
            <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(
              addr
            )}"
               target="_blank" rel="noopener">
               ${row.Physical_Address || ""}${
              row.Physical_Address ? "," : ""
            }<br>
               ${row.City || ""}${row.City ? "," : ""} KY ${row.Zip || ""}
            </a>
          </td>
          <td>${row.County || ""}</td>
          <td>${row.Number_Of_Employees || ""}</td>
          <td>${row.Industry_Class || ""}</td>
          <td>${row.Species_Produced || ""}</td>
          <td>${row.Products_Produced || ""}</td>
          <td>${row.Methods_Bought || ""}</td>
          ${
            row.Website
              ? `<td><a href="${row.Website}" target="_blank" rel="noopener">${row.Website}</a></td>`
              : `<td></td>`
          }
        </tr>
      `;
          });
          html += `
          </tbody>
        </table>
      </div>
      <div id="pagination" class="pagination"></div>
    `;
          return html;
        }

        function renderPagination() {
          const out = ensureOutput();
          if (!out) return;
          const pag = out.querySelector("#pagination");
          if (!pag) return;

          pag.innerHTML = "";
          const start = (vaCurrentPage - 1) * PAGE_SIZE + 1;
          const end = Math.min(vaCurrentPage * PAGE_SIZE, vaTotalRows);

          const mkBtn = (label, disabled, onClick) => {
            const b = document.createElement("button");
            b.textContent = label;
            b.disabled = !!disabled;
            b.onclick = onClick;
            return b;
          };

          const firstBtn = mkBtn("⏮ First", vaCurrentPage === 1, () =>
            loadAllCompanies(1)
          );
          const prevBtn = mkBtn("◀ Prev", vaCurrentPage === 1, () =>
            loadAllCompanies(vaCurrentPage - 1)
          );
          const nextBtn = mkBtn("Next ▶", vaCurrentPage === vaTotalPages, () =>
            loadAllCompanies(vaCurrentPage + 1)
          );
          const lastBtn = mkBtn("Last ⏭", vaCurrentPage === vaTotalPages, () =>
            loadAllCompanies(vaTotalPages)
          );

          const info = document.createElement("span");
          info.className = "page-info";
          info.textContent = `Showing ${start}-${end} of ${vaTotalRows} (Page ${vaCurrentPage}/${vaTotalPages})`;

          pag.append(firstBtn, prevBtn, info, nextBtn, lastBtn);
        }

        async function ensureTotalCount() {
          if (vaTotalRows > 0) return;
          const countSql =
            "SELECT COUNT(*) AS total FROM Wood_Industry_Directory.Info;";
          try {
            const res = await fetch(ENDPOINT, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              cache: "no-store",
              body: JSON.stringify({ query: countSql }),
            });
            const data = await res.json();
            if (Array.isArray(data) && data.length > 0) {
              const first = data[0] || {};
              vaTotalRows = Number(first.total ?? first["COUNT(*)"] ?? 0) || 0;
            } else {
              vaTotalRows = 0;
            }
          } catch (e) {
            console.error("[pager] Count error:", e);
            vaTotalRows = 0;
          }
          vaTotalPages = Math.max(1, Math.ceil(vaTotalRows / PAGE_SIZE));
        }

        async function loadAllCompanies(page = 1) {
          vaCurrentPage = Math.max(1, parseInt(page, 10) || 1);
          await ensureTotalCount();

          const out = ensureOutput();
          if (!out) return;
          out.innerHTML = `<p style="color:#666;">Loading page ${vaCurrentPage}…</p>`;

          const offset = (vaCurrentPage - 1) * PAGE_SIZE;
          const sql = `
      SELECT Company_Name, Physical_Address, City, Zip, County, Number_Of_Employees,
             Industry_Class, Species_Produced, Products_Produced, Methods_Bought, Website
      FROM Wood_Industry_Directory.Info
      ORDER BY Company_Name ASC
      LIMIT ${offset}, ${PAGE_SIZE};
    `;

          try {
            const res = await fetch(ENDPOINT, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              cache: "no-store",
              body: JSON.stringify({ query: sql }),
            });
            const data = await res.json();
            if (Array.isArray(data) && data.length > 0) {
              out.innerHTML = buildCompaniesTable(data);
              // re-enable sorttable if present
              if (window.sorttable && out.querySelector("table.sortable")) {
                sorttable.makeSortable(out.querySelector("table.sortable"));
              }
              renderPagination();
            } else {
              out.innerHTML = "<p>No results found.</p>";
            }
          } catch (e) {
            console.error("[pager] Fetch error:", e);
            out.innerHTML = "<p>Error fetching data.</p>";
          }
        }

        // Hook into existing layout without destroying it
        function initPager() {
          if (initialized) return;
          initialized = true;

          // Wire "View All" button if present
          const viewAllBtn = document.getElementById("view-all");
          if (viewAllBtn) {
            viewAllBtn.addEventListener("click", () => {
              vaCurrentPage = 1;
              vaTotalRows = 0;
              vaTotalPages = 1;
              loadAllCompanies(1);
            });
          }

          // Force first 50 on initial open
          vaCurrentPage = 1;
          vaTotalRows = 0;
          vaTotalPages = 1;
          loadAllCompanies(1);
        }

        // Our onload will override prior window.onload assignments without removing their logic
        // If the page uses addEventListener, both will run.
        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", initPager);
        } else {
          initPager();
        }

        // Expose for debugging (optional)
        window.__pager = {
          next: () => loadAllCompanies(vaCurrentPage + 1),
          prev: () => loadAllCompanies(vaCurrentPage - 1),
          goto: (p) => loadAllCompanies(p),
        };
      })();
    </script>
  </body>

  <script src="sorttable.js"></script>

  <script>
    const PAGE_SIZE = 50;
    let vaCurrentPage, vaTotalRows, vaTotalPages;
    const radioSearch = document.querySelectorAll('input[name="search"]');
    radioSearch.forEach((radioSearch) => {
      radioSearch.addEventListener("change", function (event) {
        if (event.target.checked) {
          console.log("you selected", event.target.value);
          lockMethodsandProducts(event);
        }
      });
    });

    const radioFilter = document.querySelectorAll('input[name="filter"]');
    radioFilter.forEach((radioFilter) => {
      radioFilter.addEventListener("change", function (event) {
        document.querySelector(".container").style.gridTemplateAreas =
          '"search box1 box2 output"';
        if (event.target.checked) {
          console.log("you selected", event.target.value);
          filterByLock(event);
          buildFilter(event);
        }
      });
    });

    const radioCategory = document.querySelectorAll('input[name="category"]');
    radioCategory.forEach((radioCategory) => {
      radioCategory.addEventListener("change", function (event) {
        document.querySelector(".container").style.gridTemplateAreas =
          '"search box1 box2 output"';
        if (event.target.checked) {
          console.log("you selected", event.target.value);
          buildCategory(event);
        }
      });
    });

    function lockMethodsandProducts(event) {
      const filterMethods = document.getElementById("filterMethods");
      const filterProducts = document.getElementById("filterProducts");
      const filterEmployees = document.getElementById("filterEmployees");
      const searchCounty = document.getElementById("searchCounty");
      const filterCounty = document.getElementById("filterCounty");
      let categoryProducts = document.getElementById("categoryProducts");

      console.log(event);

      if (event.target.value === "County") {
        filterCounty.disabled = true;
      } else {
        filterCounty.disabled = false;
      }

      if (event.target.value === "Products_Produced") {
        filterProducts.disabled = true;
        categoryProducts.disabled = true;
      } else {
        filterProducts.disabled = false;
      }
    }

    function buildFilter(event) {
      const filterMethods = document.getElementById("filterMethods");
      const filterProducts = document.getElementById("filterProducts");
      const filterEmployees = document.getElementById("filterEmployees");
      // const searchCounty = document.getElementById('searchCounty');
      const filterCounty = document.getElementById("filterCounty");
      document.getElementById("createFilter").innerHTML = ""; // Clear previous filters
      if (event.target.value === "County") {
        for (let i = 0; i < countyArray.length; i++) {
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.value = countyArray[i];
          checkbox.name = countyArray[i];
          checkbox.id = countyArray[i];

          const label = document.createElement("label");
          label.htmlFor = countyArray[i];
          label.appendChild(document.createTextNode(countyArray[i]));

          document.getElementById("createFilter").appendChild(checkbox);
          document.getElementById("createFilter").appendChild(label);
          document
            .getElementById("createFilter")
            .appendChild(document.createElement("br"));
        }
      } else if (event.target.value === "Products_Produced") {
        for (let i = 0; i < products.length; i++) {
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.value = products[i];
          checkbox.name = products[i];
          checkbox.id = products[i];

          const label = document.createElement("label");
          label.htmlFor = products[i];
          label.appendChild(document.createTextNode(products[i]));

          document.getElementById("createFilter").appendChild(checkbox);
          document.getElementById("createFilter").appendChild(label);
          document
            .getElementById("createFilter")
            .appendChild(document.createElement("br"));
        }
      } else if (event.target.value === "Number_Of_Employees") {
        for (let i = 0; i < employeesNumber.length; i++) {
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.value = employeesNumber[i];
          checkbox.name = employeesNumber[i];
          checkbox.id = employeesNumber[i];

          const label = document.createElement("label");
          label.htmlFor = employeesNumber[i];
          label.appendChild(
            document.createTextNode("Greater than " + employeesNumber[i])
          );

          document.getElementById("createFilter").appendChild(checkbox);
          document.getElementById("createFilter").appendChild(label);
          document
            .getElementById("createFilter")
            .appendChild(document.createElement("br"));
        }
      } else if (event.target.value === "Methods_Bought") {
        for (let i = 0; i < methodsBought.length; i++) {
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.value = methodsBought[i];
          checkbox.name = methodsBought[i];
          checkbox.id = methodsBought[i];

          const label = document.createElement("label");
          label.htmlFor = methodsBought[i];
          label.appendChild(document.createTextNode(methodsBought[i]));

          document.getElementById("createFilter").appendChild(checkbox);
          document.getElementById("createFilter").appendChild(label);
          document
            .getElementById("createFilter")
            .appendChild(document.createElement("br"));
        }
      } else {
      }
      document.querySelector(".box1").style.display = "block";
    }

    function buildCategory(event) {
      const categorySpecies = document.getElementById("categorySpecies");
      const categoryProducts = document.getElementById("categoryProducts");
      const categoryEmployees = document.getElementById("categoryEmployees");
      const categorySells = document.getElementById("categorySells");
      const categoryMethods = document.getElementById("categoryMethods");

      document.getElementById("createCategory").innerHTML = ""; // Clear previous filters
      if (event.target.value === "Species_Produced") {
        for (let i = 0; i < species.length; i++) {
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.value = species[i];
          checkbox.name = species[i];
          checkbox.id = species[i];

          const label = document.createElement("label");
          label.htmlFor = species[i];
          label.appendChild(document.createTextNode(species[i]));

          document.getElementById("createCategory").appendChild(checkbox);
          document.getElementById("createCategory").appendChild(label);
          document
            .getElementById("createCategory")
            .appendChild(document.createElement("br"));
        }
      } else if (event.target.value === "Products_Produced") {
        for (let i = 0; i < products.length; i++) {
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.value = products[i];
          checkbox.name = products[i];
          checkbox.id = products[i];

          const label = document.createElement("label");
          label.htmlFor = products[i];
          label.appendChild(document.createTextNode(products[i]));

          document.getElementById("createCategory").appendChild(checkbox);
          document.getElementById("createCategory").appendChild(label);
          document
            .getElementById("createCategory")
            .appendChild(document.createElement("br"));
        }
      } else if (event.target.value === "Number_Of_Employees") {
        for (let i = 0; i < employeesNumber.length; i++) {
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.value = employeesNumber[i];
          checkbox.name = employeesNumber[i];
          checkbox.id = employeesNumber[i];

          const label = document.createElement("label");
          label.htmlFor = employeesNumber[i];
          label.appendChild(
            document.createTextNode("Greater than " + employeesNumber[i])
          );

          document.getElementById("createCategory").appendChild(checkbox);
          document.getElementById("createCategory").appendChild(label);
          document
            .getElementById("createCategory")
            .appendChild(document.createElement("br"));
        }
      } else if (event.target.value === "Methods_Bought") {
        for (let i = 0; i < methodsBought.length; i++) {
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.value = methodsBought[i];
          checkbox.name = methodsBought[i];
          checkbox.id = methodsBought[i];

          const label = document.createElement("label");
          label.htmlFor = methodsBought[i];
          label.appendChild(document.createTextNode(methodsBought[i]));

          document.getElementById("createCategory").appendChild(checkbox);
          document.getElementById("createCategory").appendChild(label);
          document
            .getElementById("createCategory")
            .appendChild(document.createElement("br"));
        }
      } else if (event.target.value === "Sells_To_Public") {
        for (let i = 0; i < sells.length; i++) {
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.value = sells[i];
          checkbox.name = sells[i];
          checkbox.id = sells[i];

          const label = document.createElement("label");
          label.htmlFor = sells[i];
          label.appendChild(document.createTextNode(sells[i]));

          document.getElementById("createCategory").appendChild(checkbox);
          document.getElementById("createCategory").appendChild(label);
          document
            .getElementById("createCategory")
            .appendChild(document.createElement("br"));
        }
      }
      document.querySelector(".box2").style.display = "block";
    }

    // filter category when selected from the filter by

    function filterByLock(event) {
      const filterCategoryMethods = document.getElementById("categoryMethods");
      const filterCategoryProducts =
        document.getElementById("categoryProducts");
      const filterCategoryEmployees =
        document.getElementById("categoryEmployees");

      console.log(document.getElementById("searchProducts").disabled);
      console.log(event);

      if (event.target.value === "Methods_Bought") {
        filterCategoryMethods.disabled = true;
        if (document.getElementById("categoryMethods").disabled) {
          document.getElementById("categoryNone").checked = true;
          document.getElementById("createCategory").innerHTML = "";
        }
      } else {
        filterCategoryMethods.disabled = false;
      }

      if (
        event.target.value === "Products_Produced" ||
        document.getElementById("filterProducts").disabled
      ) {
        filterCategoryProducts.disabled = true;
        if (document.getElementById("categoryProducts").disabled) {
          document.getElementById("categoryNone").checked = true;
          document.getElementById("createCategory").innerHTML = "";
        }
      } else {
        filterCategoryProducts.disabled = false;
      }

      if (event.target.value === "Number_Of_Employees") {
        filterCategoryEmployees.disabled = true;
        if (document.getElementById("categoryEmployees").disabled) {
          document.getElementById("categoryNone").checked = true;
          document.getElementById("createCategory").innerHTML = "";
        }
      } else {
        filterCategoryEmployees.disabled = false;
      }
    }

    // build reset button
    const button2 = document.getElementById("button2");
    button2.addEventListener("click", function () {
      document.getElementById("categoryNone").checked = true;
      document.getElementById("filterNone").checked = true;
      document.getElementById("searchNone").checked = true;
      document.getElementById("createCategory").innerHTML = "";
      document.getElementById("createFilter").innerHTML = "";
      document.querySelector(".container").style.gridTemplateAreas =
        '"search output output output"';
    });

    document.getElementById("button1").addEventListener("click", function () {
      document.querySelector(".box1").style.display = "none";
      document.querySelector(".box2").style.display = "none";
      document.querySelector(".container").style.gridTemplateAreas =
        '"search output output output"';
      let sqlClauses = [];

      // ----- SEARCH -----
      const searchText = document.getElementById("search").value.trim();
      const searchFieldRadio = document.querySelector(
        'input[name="search"]:checked'
      );
      const searchField = searchFieldRadio ? searchFieldRadio.value : "None";

      if (searchText !== "" && searchField !== "None") {
        sqlClauses.push(`${searchField} LIKE '%${searchText}%'`);
      }

      // ----- FILTER (LIKE with OR) -----
      const filterRadio = document.querySelector(
        'input[name="filter"]:checked'
      );
      const filterField = filterRadio ? filterRadio.value : "None";

      const filterChecks = document.querySelectorAll(
        "#createFilter input[type='checkbox']:checked"
      );
      if (filterChecks.length > 0 && filterField !== "None") {
        let likeClauses = Array.from(filterChecks).map(
          (cb) => `${filterField} LIKE '%${cb.value}%'`
        );
        sqlClauses.push(`(${likeClauses.join(" OR ")})`);
      }

      // ----- CATEGORY (LIKE with OR) -----
      const categoryRadio = document.querySelector(
        'input[name="category"]:checked'
      );
      const categoryField = categoryRadio ? categoryRadio.value : "None";

      const categoryChecks = document.querySelectorAll(
        "#createCategory input[type='checkbox']:checked"
      );
      if (categoryChecks.length > 0 && categoryField !== "None") {
        let likeClauses = Array.from(categoryChecks).map(
          (cb) => `${categoryField} LIKE '%${cb.value}%'`
        );
        sqlClauses.push(`(${likeClauses.join(" OR ")})`);
      }

      // ----- FINAL OUTPUT -----
      const outputDiv = document.querySelector(".output");
      if (sqlClauses.length > 0) {
        let fullSQL =
          "SELECT Company_Name, Physical_Address, City, Zip, County, Number_Of_Employees, Industry_Class, Species_Produced, Products_Produced, Methods_Bought, Website FROM Wood_Industry_Directory.Info WHERE " +
          sqlClauses.join(" AND ");
        console.log("SQL Query:", fullSQL);
        outputDiv.innerText = fullSQL;

        // Optional: fetch data from PHP (uncomment if you're ready)

        fetch("https://woodproducts.ukfnrext.org/fetchData.php", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ query: fullSQL }),
        })
          .then((response) => response.json())
          .then((data) => {
            if (data.length > 0) {
              let table = `
      <div id="capture-section">
        <table class="sortable">
          <thead>
          <tr>
            <th>Company Name </th>
            <th>Mailing Address</th>
            <th>County</th>
            <th>Number of Employees</th>
            <th>Classes</th>
            <th>Species</th>
            <th>Products</th>
            <th>Methods</th>
            <th>Website</th>
          </tr>
          </thead>
        `;

              console.log(data);
              data.forEach((row) => {
                table += `<tr>
                <td>${row.Company_Name || ""}</td>
                <td>${row.Physical_Address || ""}, ${row.City || ""}, KY ${
                  row.Zip || ""
                }</td>
                <td>${row.County || ""}</td>
                <td>${row.Number_Of_Employees || ""}</td>
                <td>${row.Industry_Class || ""}</td>
                <td>${row.Species_Produced || ""}</td>
                <td>${row.Products_Produced || ""}</td>
                <td>${row.Methods_Bought || ""}</td>
                `;
                if (!row.Website) {
                  table += `<td></td>
                  </tr>`;
                } else {
                  table += `<td><a href="${row.Website}" target="_blank">${row.Website}</a></td>
                    </tr>
                  `;
                }
              });
              table += `
                  </tbody>
                  </table>
                  </div>
                `;
              outputDiv.innerHTML = table;

              const tbl = outputDiv.querySelector("table.sortable");
              if (window.sorttable && tbl) {
                sorttable.makeSortable(tbl);
              }
            } else {
              outputDiv.innerHTML = fullSQL + "<br><br>No results found.";
            }
          })
          .catch((err) => {
            console.error("Fetch error:", err);
            outputDiv.innerText = "Error fetching data.";
          });
      } else {
        outputDiv.innerText = "No conditions selected.";
      }
    });

    document.getElementById("generate-pdf-btn").addEventListener("click", () => {
  const captureSection = document.getElementById("capture-section");
  html2pdf()
    .from(captureSection)
    .set({
      margin: 0.25,
      pagebreak: {
        mode: ["css", "legacy"],
        avoid: ["tr", ".avoid-break"],
      },
      html2canvas: { scale: 2 },
      jsPDF: { unit: "in", format: "letter", orientation: "landscape" },
    })
    .toPdf()
    .get("pdf")
    .then(async (pdf) => {
      // last page
      const total = pdf.getNumberOfPages();
      pdf.setPage(total);

      // page size in INCHES because unit = "in"
      const pageW = pdf.internal.pageSize.getWidth();
      const pageH = pdf.internal.pageSize.getHeight();

      // margins (inches)
      const marginX = 0.25;
      const marginBottom = 0.25;

      // --- date text (inches) ---
      pdf.setFont("helvetica", "normal");
      pdf.setFontSize(10); // font size is still in pt (that's OK)
      const dateStr = new Date().toLocaleDateString(undefined, {
        year: "numeric",
        month: "long",
        day: "numeric",
      });
      // place ~0.2" above bottom margin, 0.25" from left
      pdf.text(`Generated on ${dateStr}`, marginX, pageH - (marginBottom + 0.2));

      // --- footer image (use inches for placement/size) ---
      const imgURL = "images/Small_Logos-PDF.png";
      const dataURL = await toDataURL(imgURL);

      const { w: pxW, h: pxH } = await getImageNaturalSize(dataURL);
      const ratio = pxH / pxW;

      // fit image to page width inside left/right margins
      const targetW = pageW - marginX * 2;      // inches
      const targetH = targetW * ratio;           // inches (same scale)

      // position so image sits above bottom margin by ~0.35"
      const x = marginX;
      const y = Math.max(marginBottom + 0.35, pageH - targetH - marginBottom - 0.1);

      pdf.addImage(dataURL, "PNG", x, y, targetW, targetH);
    })
    .save();

  // helpers
  function toDataURL(url) {
    return new Promise((resolve, reject) => {
      const img = new Image();
      // tip: if image is SAME ORIGIN, omit crossOrigin to avoid CORS headaches
      // img.crossOrigin = "anonymous";  // ← comment this out for same-origin assets
      img.onload = () => {
        const c = document.createElement("canvas");
        c.width = img.naturalWidth;
        c.height = img.naturalHeight;
        c.getContext("2d").drawImage(img, 0, 0);
        resolve(c.toDataURL("image/png"));
      };
      img.onerror = reject;
      img.src = url;
    });
  }

  function getImageNaturalSize(dataURL) {
    return new Promise((resolve, reject) => {
      const i = new Image();
      i.onload = () => resolve({ w: i.naturalWidth, h: i.naturalHeight });
      i.onerror = reject;
      i.src = dataURL;
    });
  }
});

    window.onload = function () {
      vaCurrentPage = 1; // reset counters
      vaTotalRows = 0;
      vaTotalPages = 1;
      loadAllCompanies(1);
    };

    // Build the table HTML (reuses your columns & address->Google Maps link)
    function buildCompaniesTable(rows) {
      let table = `
      <div id="capture-section">
        <table class="sortable">
          <thead>
            <tr>
              <th>Company Name</th>
              <th>Mailing Address</th>
              <th>County</th>
              <th>Employees</th>
              <th>Classes</th>
              <th>Species</th>
              <th>Products</th>
              <th>Methods</th>
              <th>Website</th>
            </tr>
          </thead>
          <tbody>
    `;

      rows.forEach((row) => {
        const addr = `${row.Physical_Address || ""}, ${row.City || ""}, KY ${
          row.Zip || ""
        }`;
        table += `
        <tr>
          <td>${row.Company_Name || ""}</td>
          <td>
            <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(
              addr
            )}"
               target="_blank" rel="noopener">
               ${row.Physical_Address || ""},<br> ${row.City || ""}, KY ${
          row.Zip || ""
        }
            </a>
          </td>
          <td>${row.County || ""}</td>
          <td>${row.Number_Of_Employees || ""}</td>
          <td>${row.Industry_Class || ""}</td>
          <td>${row.Species_Produced || ""}</td>
          <td>${row.Products_Produced || ""}</td>
          <td>${row.Methods_Bought || ""}</td>
          ${
            row.Website
              ? `<td><a href="${row.Website}" target="_blank">${row.Website}</a></td>`
              : `<td></td>`
          }
        </tr>
      `;
      });

      table += `
          </tbody>
        </table>
      </div>
      <div id="pagination" class="pagination"></div>
    `;
      return table;
    }

    // Render pagination controls
    function renderPagination() {
      const outputDiv = document.querySelector(".output");
      const pag = outputDiv.querySelector("#pagination");
      if (!pag) return;

      pag.innerHTML = ""; // clear

      const firstBtn = document.createElement("button");
      firstBtn.textContent = "⏮ First";
      firstBtn.disabled = vaCurrentPage === 1;
      firstBtn.onclick = () => loadAllCompanies(1);

      const prevBtn = document.createElement("button");
      prevBtn.textContent = "◀ Prev";
      prevBtn.disabled = vaCurrentPage === 1;
      prevBtn.onclick = () => loadAllCompanies(vaCurrentPage - 1);

      const nextBtn = document.createElement("button");
      nextBtn.textContent = "Next ▶";
      nextBtn.disabled = vaCurrentPage === vaTotalPages;
      nextBtn.onclick = () => loadAllCompanies(vaCurrentPage + 1);

      const lastBtn = document.createElement("button");
      lastBtn.textContent = "Last ⏭";
      lastBtn.disabled = vaCurrentPage === vaTotalPages;
      lastBtn.onclick = () => loadAllCompanies(vaTotalPages);

      const info = document.createElement("span");
      info.className = "page-info";
      const start = (vaCurrentPage - 1) * PAGE_SIZE + 1;
      const end = Math.min(vaCurrentPage * PAGE_SIZE, vaTotalRows);
      info.textContent = `Showing ${start}-${end} of ${vaTotalRows} (Page ${vaCurrentPage}/${vaTotalPages})`;

      pag.appendChild(firstBtn);
      pag.appendChild(prevBtn);
      pag.appendChild(info);
      pag.appendChild(nextBtn);
      pag.appendChild(lastBtn);
    }

    // Fetch a page of 50 companies and render
    async function loadAllCompanies(page = 1) {
      vaCurrentPage = page;

      const outputDiv = document.querySelector(".output");
      // collapse side panels & widen output
      document.querySelector(".box1").style.display = "none";
      document.querySelector(".box2").style.display = "none";
      document.querySelector(".container").style.gridTemplateAreas =
        '"search output output output"';

      // Get total row count once (for pagination)
      if (vaTotalRows === 0) {
        const countSql =
          "SELECT COUNT(*) AS total FROM Wood_Industry_Directory.Info;";
        const countRes = await fetch(
          "https://woodproducts.ukfnrext.org/fetchData.php",
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ query: countSql }),
          }
        )
          .then((r) => r.json())
          .catch(() => []);

        // Accept either [{total: N}] or [{ "COUNT(*)": N }] depending on backend
        if (Array.isArray(countRes) && countRes.length > 0) {
          const first = countRes[0] || {};
          vaTotalRows = Number(first.total ?? first["COUNT(*)"] ?? 0) || 0;
        } else {
          vaTotalRows = 0;
        }
        vaTotalPages = Math.max(1, Math.ceil(vaTotalRows / PAGE_SIZE));
      }

      const offset = (vaCurrentPage - 1) * PAGE_SIZE;

      const sql = `
      SELECT Company_Name, Physical_Address, City, Zip, County, Number_Of_Employees,
             Industry_Class, Species_Produced, Products_Produced, Methods_Bought, Website
      FROM Wood_Industry_Directory.Info
      ORDER BY Company_Name ASC
      LIMIT ${PAGE_SIZE} OFFSET ${offset};
    `;

      // Fetch the page
      const data = await fetch(
        "https://woodproducts.ukfnrext.org/fetchData.php",
        {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ query: sql }),
        }
      )
        .then((r) => r.json())
        .catch(() => []);

      if (Array.isArray(data) && data.length > 0) {
        outputDiv.innerHTML = buildCompaniesTable(data);

        // enable sorting
        const tbl = outputDiv.querySelector("table.sortable");
        if (window.sorttable && tbl) sorttable.makeSortable(tbl);

        renderPagination();
      } else {
        outputDiv.innerHTML = `<p>No results found.</p>`;
      }
    }

    // Hook up the button
    document.getElementById("view-all").addEventListener("click", () => {
      // Reset counters so we re-count total rows when "View All" is clicked again
      vaCurrentPage = 1;
      vaTotalRows = 0;
      vaTotalPages = 1;
      loadAllCompanies(1);
    });
    let employeesNumber = [
      1, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 100, 150, 200, 300, 400, 500,
      1000,
    ];
    var Status = ["Open", "Idled", "Permanently closed"];
    var countyArray = [
      "Adair",
      "Allen",
      "Anderson",
      "Ballard",
      "Barren",
      "Bath",
      "Bell",
      "Boone",
      "Bourbon",
      "Boyd",
      "Boyle",
      "Bracken",
      "Breathitt",
      "Breckinridge",
      "Bullitt",
      "Butler",
      "Caldwell",
      "Calloway",
      "Campbell",
      "Carlisle",
      "Carroll",
      "Carter",
      "Casey",
      "Christian",
      "Clarke",
      "Clay",
      "Clinton",
      "Crittenden",
      "Cumberland",
      "Daviess",
      "Edmonson",
      "Elliott",
      "Estill",
      "Fayette",
      "Fleming",
      "Floyd",
      "Franklin",
      "Fulton",
      "Gallatin",
      "Garrad",
      "Grant",
      "Graves",
      "Grayson",
      "Green",
      "Greenup",
      "Hancock",
      "Hardin",
      "Harlan",
      "Harrison",
      "Hart",
      "Henderson",
      "Henry",
      "Hickman",
      "Hopkins",
      "Jackson",
      "Jefferson",
      "Jessamine",
      "Johnson",
      "Kenton",
      "Knott",
      "Knox",
      "LaRue",
      "Laurel",
      "Lawrence",
      "Lee",
      "Leslie",
      "Letcher",
      "Lewis",
      "Lincoln",
      "Livingston",
      "Logan",
      "Lyon",
      "McCracken",
      "McCreary",
      "McLean",
      "Madison",
      "Magoffin",
      "Marion",
      "Marshall",
      "Martin",
      "Mason",
      "Meade",
      "Menifee",
      "Mercer",
      "Metcalfe",
      "Monroe",
      "Montgomery",
      "Morgan",
      "Muhlenburg",
      "Nelson",
      "Nicholas",
      "Ohio",
      "Oldham",
      "Owen",
      "Owsley",
      "Pendleton",
      "Perry",
      "Pike",
      "Powell",
      "Pulaski",
      "Robertson",
      "Rockcastle",
      "Rowan",
      "Russell",
      "Scott",
      "Shelby",
      "Simpson",
      "Spencer",
      "Taylor",
      "Todd",
      "Trigg",
      "Trimble",
      "Union",
      "Warren",
      "Washington",
      "Wayne",
      "Webster",
      "Whitley",
      "Wolfe",
      "Woodford",
    ];

    let species = [
      "Red Oak",
      "White oak",
      "Chestnut oak",
      "Hard maple",
      "Soft maple",
      "Ash",
      "Hickory",
      "Walnut",
      "Cherry",
      "Black Walnut",
      "Sycamore",
      "Beech",
      "Basswood",
      "Elm",
      "Yellow-poplar",
      "Red cedar",
      "Gum",
      "Black locust",
      "Birch",
      "Cottonwood",
      "Eastern white pine",
      "Southern yellow pine",
      "Cypress",
      "Mixed-Hardwoods",
    ];

    products = [
      "Animal bedding/shavings",
      "Antique Restoration",
      "Arbors",
      "Architectural casework",
      "Arm Saw",
      "Armoires",
      "Audiovisual cabinets/boxes",
      "Bark",
      "Bark mulch",
      "Barn doors & barn materials",
      "Barrel Alternatives",
      "Barrel staves",
      "Barrels",
      "Barrels, heading",
      "Barrels, rain",
      "Barrels-wine",
      "Baseball bats",
      "Basketball supplies",
      "Baskets",
      "Beach Chairs",
      "Bed wood for pickup trucks",
      "Beehives",
      "Benches, Tables, Swings",
      "Bleached pulp",
      "Board road",
      "Bookcases",
      "Bowls-carved",
      "Box Frames for Mattress (box springs)",
      "Box spring frames",
      "Boxes, jewelry",
      "Burial boxes, caskets",
      "Burial/cremation boxes",
      "Burls",
      "Butch Blocks",
      "Cabinet doors",
      "Cabinets, custom",
      "Cabinets, custom (commerical)",
      "Cabinets, mass-produced",
      "Cabinets-Gun",
      "Cable reels",
      "Cants",
      "Cap boards",
      "Casework, custom",
      "Caskets",
      "Cedar Paneling",
      "Chairs",
      "Chairs, Rockers, Gliders",
      "Charcoal",
      "Chests, Keepsake",
      "Childerns furniture",
      "Chips",
      "Church Pews",
      "CNC machining service",
      "Coated printing paper",
      "Containers",
      "Corporate Interiors",
      "Countertops",
      "Craft/Novelities",
      "Crates",
      "cribbing",
      "Crossties",
      "Custom dry kiln",
      "Custom sawing",
      "Custom stairways, stair parts",
      "Custom woodwork",
      "Cutting boards personalized",
      "Dimension squares",
      "Dimension/components",
      "Dimensional lumber",
      "Display cases",
      "Dollies & skid boards",
      "Doors/assembled door frames",
      "Dowel rounds",
      "Dressed Timbers",
      "Dunnage",
      "Electricy",
      "Engineered wood products",
      "Exterior Signage",
      "Fabricated hardboard",
      "Fence posts, boards",
      "Fence, slit",
      "File boxes",
      "Fine Paper",
      "Finger-joint blanks",
      "Fire logs",
      "Fire Place Mantels",
      "Fireplace mantles",
      "Firewood",
      "Flooring",
      "Flooring parts",
      'Flooring, 5/16"',
      "Flooring, end matched strip",
      "Flooring, engineered",
      "Flooring, Hardwood Accessories",
      "Flooring, pre-finished parquet",
      "Flooring, prefinished end matched strip",
      "Flooring, prefinished end matched wide plank",
      "Flooring, reclaimed oak",
      "Flooring, remanufactured, antique flooring",
      "Flooring, strip",
      "Flooring, wide plank",
      "Furniture Log",
      "Furniture reproduction",
      "Furniture restoration",
      "Furniture, childrens",
      "Furniture, custom",
      "Furniture, mass-produced",
      "Furniture, outdoor",
      "Furniture, upholstered",
      "Gazebos",
      "Golf clubs & putters",
      "Guard rail components",
      "Gunstock Blanks",
      "Handcrafted kentucky style furniture",
      "Handle blanks",
      "Hardwood chips",
      "Hardwood pupwood",
      "Hardwood sawlogs",
      "Hardwood shavings",
      "Hardwood veneer",
      "Hardwood wedges",
      "Heat Treating",
      "Hogged wood waste",
      "Hogshead",
      "House boats",
      "House/barn material kits",
      "Indoor log railing",
      "Industrial fuel (dust & bark)",
      "Institution/hotel furniture",
      "Insulation",
      "Keepsake chests",
      "Kentucky mountain dulcimers",
      "Kiln dried hardwood lumber",
      "Kiln dried heading",
      "Kiln dried staves",
      "Kindling",
      "Kitchen cabinet doors",
      "kitchen cabinets",
      "Laminated and painted fiber board",
      "Laminated beams",
      "Laminated products",
      "Laminated wood products (benches)",
      "Laminated wood products (butcher blocks)",
      "Lapboard siding",
      "Library Shelving for Public Schools",
      "Light fixtures",
      "Log bedroom furniture",
      "Log dining room furniture",
      "Log fencing and railing",
      "Log home timbers",
      "Log homes & components",
      "Log lawn furniture",
      "Log office furniture",
      "Log playground equipment",
      "Log siding",
      "Logging/sawmill equipment parts & sales",
      "Logs",
      "Logs,exported",
      "Logs, hardwood",
      "Lumber, air dried",
      "Lumber, cedar",
      "Lumber, construction hardwood dimension",
      "Lumber, construction softwood dimension",
      "Lumber, custom sawn",
      "Lumber, discount",
      "Lumber, fence",
      "Lumber, frame stock",
      "Lumber, graded hardwood",
      "Lumber, green",
      "Lumber, green hardwood",
      "Lumber, green softwood",
      "Lumber, kiln dried",
      "Lumber, kiln dried hardwood",
      "Lumber, kiln dried quarter sawn",
      "Lumber, pallet",
      "Lumber, pre-surfaced kiln dried",
      "Lumber, softwood dimension",
      "Machinery movers",
      "Mantles",
      "Mats",
      "Memory boxes personalized",
      "Milwork",
      "Mine timbers",
      "Mobile wood waste grinding",
      "Moulding",
      "Mulch",
      "Mulch, colored enhanced",
      "Music boxes laser engraves",
      "Musical instruments",
      "N/A",
      "Office cabinets",
      "Outdoor log railing",
      "Paint paddles",
      "Pallet cants",
      "Pallet lumber",
      "Pallet parts",
      "Pallet sterilization",
      "Pallets",
      "Pallets, rebuilt",
      "Pallets/crafting",
      "Paper",
      "Particle board, sublimation products",
      "Peller/plywood logs",
      "Pepper Mills",
      "Pergoals, Arbors, Garden",
      "Picnic Shelters",
      "Playground chips",
      "Plywood",
      "Poplar",
      "Posts",
      "Posts, peeled",
      "Posts, sawn",
      "Posts, sawn cedar",
      "Pottery Tools",
      "Prefab wall panels",
      "Prefinished engineered wood panels",
      "Privacy Fnece Picketts",
      "Promotional Wood Displays",
      "Pulp",
      "Pulpits",
      "Pulpwood",
      "Pulpwood, Hardwood",
      "Pulpwood, Softwood",
      "Rail car decking",
      "Raised veneer panels",
      "Refurbish bourbon barrels",
      "Residue for charcoal",
      "Restaurant Booths and Tables",
      "Rustic Furniture",
      "Sawdust",
      "Sawing, contract",
      "Sawlogs",
      "Shavings",
      "Shooks",
      "Skids",
      "Slabs",
      "Sling Chairs",
      "Small diameter logs",
      "Smoking chips",
      "Softwood chips",
      "Softwood pulpwood",
      "Soil mixtures",
      "Specialty pallets",
      "Split Fence Rails",
      "Stair parts",
      "Stave logs",
      "Staves, Kiln dried",
      "Staves, tight cooperage",
      "Stools",
      "Storage buildings",
      "Store fixtures/displays",
      "Structural insulated panels",
      "Supplier of logs",
      "Ties",
      "Tigt cooperage heading",
      "Tight cooperage heading, kiln dried",
      "Tight cooperage staves",
      "Tight cooperage staves, kiln dried",
      "Timber Broker",
      "Timber decking",
      "Timbers",
      "Treated crossties",
      "Treated poles",
      "Treated post",
      "Treated softwood construction",
      "Treated timbers",
      "Trellis Pieces",
      "Trusses",
      "Tunnel blocking",
      "Turkey calls",
      "Turned craved ornaments",
      "Used Barrell Sales",
      "Utensils",
      "Vanities",
      "Veneer",
      "Veneer logs",
      "Veneer panels for cabinet doors",
      "Veneer, flat sliced",
      "Veneer, hardwood",
      "Veneer, rotary sliced",
      "Wagon Flats",
      "Walnut Steaming",
      "wedges",
      "Whiskey barrel furniture and planters",
      "Wood carpet",
      "Wood chips",
      "Wood Christmas ornaments",
      "Wood flour",
      "Wood framed hymns",
      "Wood packaging",
      "Wood products preserver",
      "Wood products retailer",
      "Wood sculptures/carvings",
      "Wood shutters",
      "Wood stakes",
      "Wood toys",
      "Wood trusses",
      "Wood waste",
      "Wooden baby gates",
      "Wooden clad windows",
      "Wooden Lighting Fixtures",
      "Wooden utensils",
    ];

    let methodsBought = [
      "Standing Timber",
      "Gatewood Delivered",
      "Logs delivered",
      "Chips Delivered",
      "Roundwood Delivered",
      "Delivered",
      "Pickup",
      "Cants Delivered",
      "Slab wood Delivered",
      "Bark Delivered",
      "Sawdust Delivered",
      "Own Production",
      "Post Delivered",
      "Parts Delivered",
      "Lumber Delivered",
      "Green lumber Delivered",
      "Recycled Material Bought",
    ];
    methodsBought = methodsBought.sort();

    sells = ["Yes", "No"];
  </script>
</html>
